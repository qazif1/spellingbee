START PROGRAM

 //Elements rrequied in the program
  landingPage   = element("landingPage")
  gamePage      = element("gamePage")
  gameOverPage  = element("gameOverPage")
  howToPlayModal= element("howToPlayModal")

  startBtn      = element("startBtn")
  howToPlayBtn  = element("howToPlayBtn")
  closeModalBtn = elementWithClass("close-btn")

  playWordBtn   = element("playWordBtn")
  hintBtn       = element("hintBtn")
  nextBtn       = element("nextBtn")
  restartBtn    = element("restartBtn")

  answerContainer  = element("answerContainer")
  lettersContainer = element("lettersContainer")

  timerText     = element("timer")
  progressText  = element("progressText")
  progressBar   = element("progressBar")

  feedbackText  = element("feedback")
  scoreText     = element("score")
  finalScoreText= element("finalScore")

  // How to start game
  wordList   = [ ... 54 words ... ]
  currentIdx = 0
  score      = 0
  timeLeft   = 30
  timerId    = null

  // UI help
  FUNCTION showOnly(page):
    hide(landingPage)
    hide(gamePage)
    hide(gameOverPage)
    show(page)
  END FUNCTION

  FUNCTION openModal(modal):
    show(modal)
  END FUNCTION

  FUNCTION closeModal(modal):
    hide(modal)
  END FUNCTION

  // Timer for the game
  FUNCTION stopTimer():
    IF timerId IS NOT null:
      clearInterval(timerId)
      timerId = null
    ENDIF
  END FUNCTION

  FUNCTION updateTimerUI():
    timerText.text = "Time: " + timeLeft + "s"
  END FUNCTION

  FUNCTION startTimer():
    stopTimer()
    timeLeft = 30
    updateTimerUI()

    timerId = setInterval(every 1 second):
      timeLeft = timeLeft - 1
      updateTimerUI()

      IF timeLeft <= 0:
        stopTimer()
        feedbackText.text = "Time's up!"
        disableAllDragging()
        show(nextBtn)
      ENDIF
    ENDINTERVAL
  END FUNCTION

  // Progress
  FUNCTION updateProgressUI():
    progressText.text = "Word " + (currentIdx + 1) + " of " + length(wordList)
    percent = ((currentIdx + 1) / length(wordList)) * 100
    progressBar.style.width = percent + "%"
  END FUNCTION

  // Set up of Words
  FUNCTION loadWord(index):
    clear(answerContainer)
    clear(lettersContainer)
    feedbackText.text = ""
    hide(nextBtn)

    targetWord = wordList[index]

    // Creation of Answer boxes
    FOR i FROM 0 TO length(targetWord) - 1:
      box = createAnswerBox()
      box.expectedIndex = i

      // Allow dropping
      onDragOver(box): preventDefault()
      onDrop(box): handleDropIntoBox(box)

      append(answerContainer, box)
    END FOR

    // Letter tiles (shuffling concept)
    letters = splitIntoCharacters(targetWord)
    shuffle(letters)

    FOR EACH ch IN letters:
      tile = createLetterTile(ch)
      onDragStart(tile): setDragData(tile.id, ch)
      append(lettersContainer, tile)
    END FOR

    updateProgressUI()
    startTimer()
  END FUNCTION

  // Dragging and Dropping letters 
  FUNCTION handleDropIntoBox(box):
    IF box.isLocked THEN return

    data = getDragData()
    letter = data.letter
    tileId = data.tileId

    box.text = letter
    removeElementById(tileId)

    IF allBoxesFilled():
      checkAnswer()
    ENDIF
  END FUNCTION

  FUNCTION allBoxesFilled():
    boxes = children(answerContainer)
    FOR EACH b IN boxes:
      IF b.text IS empty:
        return false
      ENDIF
    END FOR
    return true
  END FUNCTION

  //Checking answers
  FUNCTION checkAnswer():
    guess = ""
    FOR EACH box IN children(answerContainer):
      guess = guess + box.text
    END FOR

    target = wordList[currentIdx]

    IF guess == target:
      feedbackText.text = "Correct!"
      score = score + 1
      scoreText.text = "Score: " + score
      stopTimer()
      show(nextBtn)
    ELSE
      feedbackText.text = "Try again."
    ENDIF
  END FUNCTION

  // Audio
  FUNCTION speakWord(word):
    textToSpeech(word)   // 
        //maybe audio files (mp3) 
  END FUNCTION

  // Getting the HInt button
  FUNCTION giveHint():
    target = wordList[currentIdx]
    firstLetter = target[0]

    firstBox = children(answerContainer)[0]
    firstBox.text = firstLetter
    firstBox.isLocked = true

    // Optionally remove one matching tile from lettersContainer
    removeOneTileWithLetter(firstLetter)

    IF allBoxesFilled():
      checkAnswer()
    ENDIF
  END FUNCTION

  // Flow fo the game
  FUNCTION startGame():
    score = 0
    currentIdx = 0
    scoreText.text = "Score: 0"
    showOnly(gamePage)
    loadWord(currentIdx)
  END FUNCTION

  FUNCTION nextWord():
    currentIdx = currentIdx + 1

    IF currentIdx >= length(wordList):
      stopTimer()
      showOnly(gameOverPage)
      finalScoreText.text = "Final Score: " + score
    ELSE
      loadWord(currentIdx)
    ENDIF
  END FUNCTION

  FUNCTION restartGame():
    stopTimer()
    showOnly(landingPage)
  END FUNCTION

  //Event
  onClick(startBtn): startGame()
  onClick(howToPlayBtn): openModal(howToPlayModal)
  onClick(closeModalBtn): closeModal(howToPlayModal)

  onClick(playWordBtn): speakWord(wordList[currentIdx])
  onClick(hintBtn): giveHint()
  onClick(nextBtn): nextWord()
  onClick(restartBtn): restartGame()

  // Initial UI
  showOnly(landingPage)

      // Modification

       // FURTHER MODIFICATION: Teacher selects letters, then ONLY
// words that can be made from those letters will be played.


/*
IDEA:
- Teacher chooses a set of allowed letters (example: [S, A, T, P, I, N]).
- Build a filteredWordList that contains ONLY words made entirely from
  those allowed letters.
- Run the game using filteredWordList instead of wordList.
*/

GLOBAL allowedLetters = empty set
GLOBAL filteredWordList = empty list

FUNCTION openTeacherLetterPicker():
  // show a panel/modal with letter buttons A-Z
  // teacher can toggle letters on/off
  show(teacherLetterPickerUI)
END FUNCTION

FUNCTION toggleLetter(letter):
  IF letter IN allowedLetters THEN
    remove letter FROM allowedLetters
    markLetterButtonOff(letter)
  ELSE
    add letter TO allowedLetters
    markLetterButtonOn(letter)
  ENDIF
END FUNCTION

FUNCTION buildFilteredWordList():
  filteredWordList = empty list

  FOR EACH w IN wordList:
    IF wordUsesOnlyAllowedLetters(w) == true THEN
      add w TO filteredWordList
    ENDIF
  END FOR

  // If nothing matches, teacher must choose more letters or different letters
  IF length(filteredWordList) == 0 THEN
    showMessage("No words match. Select more letters.")
  ENDIF
END FUNCTION

FUNCTION wordUsesOnlyAllowedLetters(word):
  letters = splitIntoCharacters(word)

  FOR EACH ch IN letters:
    upperCh = toUpperCase(ch)

    IF upperCh NOT IN allowedLetters THEN
      return false
    ENDIF
  END FOR

  return true
END FUNCTION

FUNCTION startGameWithTeacherLetters():
  buildFilteredWordList()

  IF length(filteredWordList) > 0 THEN
    // IMPORTANT: switch the game to use filteredWordList
    activeList = filteredWordList
    score = 0
    currentIdx = 0
    showOnly(gamePage)
    loadWordFromActiveList(currentIdx)   // see below
  ENDIF
END FUNCTION

FUNCTION loadWordFromActiveList(index):
  targetWord = activeList[index]
  // then do the same steps as loadWord():
  // - clear containers
  // - create answer boxes
  // - create tiles (shuffled)
  // - update progress
  // - start timer
END FUNCTION

FUNCTION nextWordFromActiveList():
  currentIdx = currentIdx + 1

  IF currentIdx >= length(activeList) THEN
    stopTimer()
    showOnly(gameOverPage)
    finalScoreText.text = "Final Score: " + score
  ELSE
    loadWordFromActiveList(currentIdx)
  ENDIF
END FUNCTION

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spelling Bee Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Landing Page -->
  <div id="landingPage" class="page active landing-bg">
    <div class="landing-content">
      <img src="bee.jpg" alt="Spelling Bee" class="landing-img" />
      <h1 class="game-title">SATPIN & CKEHRMD Spelling Bee</h1>
      <p class="game-desc">Drag letters, spell words, and beat the clock!</p>
      <div class="landing-buttons">
        <button id="startBtn" class="start-btn"> Start Game</button>
        <button id="howToPlayBtn" class="info-btn"> How to Play</button>
      </div>
    </div>
  </div>

  <!-- How to Play Modal -->
  <div id="howToPlayModal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>How to Play</h2>
      <ul>
        <li>Click "Play Word" to hear the target word.</li>
        <li>Drag letters into boxes to spell the word.</li>
        <li>You have 30 seconds for each word.</li>
        <li>Click "Hint" to fill the first letter.</li>
        <li>Score points for every correct word!</li>
      </ul>
    </div>
  </div>

  <!-- Game Page -->
  <div id="gamePage" class="page">
    <h1>Spelling Bee Game</h1>
    <div class="progress-container">
      <div id="progressBar"></div>
    </div>
    <p id="progressText">Word 1 of 54</p>
    <p id="timer">Time: 30s</p>
    <p id="instruction">Listen to the word and drag letters into the boxes below to spell it!</p>
    <button id="playWordBtn">ðŸ”Š Play Word</button>
    <button id="hintBtn">ðŸ’¡ Hint</button>
    <div id="answerContainer"></div>
    <div id="lettersContainer"></div>
    <p id="feedback"></p>
    <p id="score">Score: 0</p>
    <button id="nextBtn" style="display:none;">Next Word</button>
  </div>

  <!-- Game Over Page -->
  <div id="gameOverPage" class="page">
    <h1>Game Over!</h1>
    <p id="finalScore"></p>
    <button id="restartBtn">Restart Game</button>
  </div>

  <script src="app.js"></script>
</body>
</html>
